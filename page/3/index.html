<!DOCTYPE html>
<html>
<head>
	<meta name="generator" content="Hugo 0.48" />
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <script>
        var yiliaConfig = {
            fancybox:  true ,
            animate:  true ,
            isHome: false,
            isPost: false,
            isArchive: true,
            isTag: false,
            isCategory: false,
            open_in_new:  true ,
            rootUrl: "\/"
        };
    </script>

    <title>南乡清水</title>
    <link rel="icon" href="https://nicky-chen.github.io/img/favicon.ico">

    <link rel="stylesheet" href="https://nicky-chen.github.io/css/style.css">
    <link rel="stylesheet" href="https://nicky-chen.github.io/font-awesome/css/font-awesome.min.css">
    <link rel="apple-touch-icon" href="https://nicky-chen.github.io/apple-touch-icon.png">


    <link rel="stylesheet" href="https://nicky-chen.github.io/fancybox/jquery.fancybox.css">

    
    
    <link rel="stylesheet" href="https://nicky-chen.github.io/highlight/styles/darcula.css">
    <script src="https://nicky-chen.github.io/highlight/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
</head>
<body>


<body>
<div id="container">
    <div class="left-col">
        <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
        <a href="https://nicky-chen.github.io/" class="profilepic">
            <img src="https://nicky-chen.github.io/img/avatar.png" class="animated zoomIn js-avatar">
        </a>
        <hgroup>
          <h1 class="header-author"><a href="https://nicky-chen.github.io/">nicky_chin</a></h1>
        </hgroup>

        
        <p class="header-subtitle">I can accept failure,but I can&#39;t accept not trying</p>
        

        


        
            <div id="switch-btn" class="switch-btn">
                <div class="icon">
                    <div class="icon-ctn">
                        <div class="icon-wrap icon-house" data-idx="0">
                            <div class="birdhouse"></div>
                            <div class="birdhouse_holes"></div>
                        </div>
                        <div class="icon-wrap icon-ribbon hide" data-idx="1">
                            <div class="ribbon"></div>
                        </div>

                        
                        <div class="icon-wrap icon-link hide" data-idx="2">
                            <div class="loopback_l"></div>
                            <div class="loopback_r"></div>
                        </div>
                        

                        
                        <div class="icon-wrap icon-me hide" data-idx="3">
                            <div class="user"></div>
                            <div class="shoulder"></div>
                        </div>
                        
                    </div>

                </div>
                <div class="tips-box hide">
                    <div class="tips-arrow"></div>
                    <ul class="tips-inner">
                        <li>菜单</li>
                        <li>标签</li>
                        
                        <li>友情链接</li>
                        
                        
                        <li>关于我</li>
                        
                        <li><a href="https://nicky-chen.github.io/2017/03/17/book_list/" target="_blank">阅读书单</a> </li>
                    </ul>
                </div>
            </div>
        

        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>
                        
                            <li><a href="https://nicky-chen.github.io/./">主页</a></li>
                        
                            <li><a href="https://nicky-chen.github.io/./tags/">专题分类</a></li>
                        
                            <li><a href="https://nicky-chen.github.io/./post/external/open_source.html">开源项目</a></li>
                        
                            <li><a href="https://nicky-chen.github.io/./post/external/teach_pic.html">技术图谱</a></li>
                        
                            <li><a href="https://nicky-chen.github.io/./post/">归档日志</a></li>
                        
                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">
                            
                                <li id="email"><a class="email" target="_blank" href="mailto:shuilianpiying@163.com" title="email"></a></li>
                            
                                <li id="github"><a class="github" target="_blank" href="https://github.com/nicky-chen" title="github"></a></li>
                            
                                <li id="stackoverflow"><a class="stackoverflow" target="_blank" href="https://stackoverflow.com/users/7444060/nicky-chen" title="stackoverflow"></a></li>
                            
                                <li id="简书"><a class="简书" target="_blank" href="https://www.jianshu.com/u/c44ed4847c3d" title="简书"></a></li>
                            
                        </ul>
                    </nav>
                </section>

                
                <section class="switch-part switch-part2">
                    <div class="widget tagcloud" id="js-tagcloud">
                        
                            <a href="https://nicky-chen.github.io/tags/junit" style="font-size: 12px;" class="color1">Junit</a>
                        
                            <a href="https://nicky-chen.github.io/tags/redis" style="font-size: 12px;" class="color4">Redis</a>
                        
                            <a href="https://nicky-chen.github.io/tags/spring-base" style="font-size: 12px;" class="color3">Spring-Base</a>
                        
                            <a href="https://nicky-chen.github.io/tags/%E4%BC%98%E5%8C%96" style="font-size: 12px;" class="color3">优化</a>
                        
                            <a href="https://nicky-chen.github.io/tags/%E5%88%86%E5%B8%83%E5%BC%8Fid%E6%96%B9%E6%A1%88" style="font-size: 12px;" class="color1">分布式id方案</a>
                        
                            <a href="https://nicky-chen.github.io/tags/%E5%88%9B%E5%BB%BA%E5%9E%8B" style="font-size: 12px;" class="color3">创建型</a>
                        
                            <a href="https://nicky-chen.github.io/tags/%E5%9F%BA%E7%A1%80" style="font-size: 12px;" class="color2">基础</a>
                        
                            <a href="https://nicky-chen.github.io/tags/%E5%A4%9A%E7%BA%BF%E7%A8%8B" style="font-size: 12px;" class="color4">多线程</a>
                        
                            <a href="https://nicky-chen.github.io/tags/%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE" style="font-size: 12px;" class="color4">思维导图</a>
                        
                            <a href="https://nicky-chen.github.io/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84" style="font-size: 12px;" class="color2">数据结构</a>
                        
                            <a href="https://nicky-chen.github.io/tags/%E6%A1%86%E6%9E%B6%E5%9F%BA%E7%A1%80" style="font-size: 12px;" class="color4">框架基础</a>
                        
                            <a href="https://nicky-chen.github.io/tags/%E6%BA%90%E7%A0%81" style="font-size: 12px;" class="color4">源码</a>
                        
                            <a href="https://nicky-chen.github.io/tags/%E7%90%86%E8%AE%BA" style="font-size: 12px;" class="color4">理论</a>
                        
                            <a href="https://nicky-chen.github.io/tags/%E7%BB%93%E6%9E%84%E5%9E%8B" style="font-size: 12px;" class="color4">结构型</a>
                        
                            <a href="https://nicky-chen.github.io/tags/%E8%A1%8C%E4%B8%BA%E5%9E%8B" style="font-size: 12px;" class="color3">行为型</a>
                        
                            <a href="https://nicky-chen.github.io/tags/%E9%94%81%E4%BC%98%E5%8C%96" style="font-size: 12px;" class="color1">锁优化</a>
                        
                    </div>
                </section>
                

                
                <section class="switch-part switch-part3">
                    <div id="js-friends">
                    
                      <a target="_blank" class="main-nav-link switch-friends-link" href="https://github.com/alibaba">alibaba开源项目</a>
                    
                      <a target="_blank" class="main-nav-link switch-friends-link" href="https://github.com/google">google开源项目</a>
                    
                      <a target="_blank" class="main-nav-link switch-friends-link" href="https://nicky-chen.github.io/2017/02/19/tools/">在线工具</a>
                    
                      <a target="_blank" class="main-nav-link switch-friends-link" href="http://mysql.taobao.org/monthly/">数据库内核月报</a>
                    
                      <a target="_blank" class="main-nav-link switch-friends-link" href="https://github.com/donnemartin/system-design-primer/blob/master/README-zh-Hans.md">系统设计入门</a>
                    
                      <a target="_blank" class="main-nav-link switch-friends-link" href="https://tech.meituan.com/">美团技术团队</a>
                    
                      <a target="_blank" class="main-nav-link switch-friends-link" href="http://jm.taobao.org/">阿里中间件团队博客</a>
                    
                    </div>
                </section>
                

                
                
                <section class="switch-part switch-part4">
                
                    <div id="js-aboutme">大家好，我叫 陈星，来自杭州。平时喜欢打打球，看看书。 我的人生格言：机会是留给有准备的人的，厚积薄发总归会有收获，沉下心来做事情, 才能一往无前......</div>
                </section>
                
            </div>
        </div>
    </header>
</div>

    </div>
    <div class="mid-col">
        <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="https://nicky-chen.github.io/" title="回到主页">nicky_chin</a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="https://nicky-chen.github.io/" class="profilepic">
                <img src="https://nicky-chen.github.io/img/avatar.png" class="animated zoomIn">
            </a>
            <hgroup>
              <h1 class="header-author"><a href="https://nicky-chen.github.io/" title="回到主页">nicky_chin</a></h1>
            </hgroup>
            
            <p class="header-subtitle">I can accept failure,but I can&#39;t accept not trying</p>
            
            <nav class="header-menu">
                <ul>
                    
                    <li><a href="https://nicky-chen.github.io/./">主页</a></li>
                    
                    <li><a href="https://nicky-chen.github.io/./tags/">专题分类</a></li>
                    
                    <li><a href="https://nicky-chen.github.io/./post/external/open_source.html">开源项目</a></li>
                    
                    <li><a href="https://nicky-chen.github.io/./post/external/teach_pic.html">技术图谱</a></li>
                    
                    <li><a href="https://nicky-chen.github.io/./post/">归档日志</a></li>
                    
                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                        <ul class="social">
                            
                            <li id="email"><a class="email" target="_blank" href="mailto:shuilianpiying@163.com" title="email"></a></li>
                            
                            <li id="github"><a class="github" target="_blank" href="https://github.com/nicky-chen" title="github"></a></li>
                            
                            <li id="stackoverflow"><a class="stackoverflow" target="_blank" href="https://stackoverflow.com/users/7444060/nicky-chen" title="stackoverflow"></a></li>
                            
                            <li id="简书"><a class="简书" target="_blank" href="https://www.jianshu.com/u/c44ed4847c3d" title="简书"></a></li>
                            
                        </ul>
            </nav>
        </header>
    </div>
</nav>

        <div class="body-wrap">
            
            
            
            <article id="post-Recycler-pbl" class="article article-type-post" itemscope="" itemprop="blogPost">

    <div class="article-meta">
        <a href="https://nicky-chen.github.io/2018/06/17/architect/" class="article-date">
            <time datetime="2018-06-17 11:18:15 &#43;0800 CST" itemprop="datePublished">2018-06-17</time>
        </a>
    </div>

    <div class="article-inner">
        
        <input type="hidden" class="isFancy">
        

        <header class="article-header">


            <h1 itemprop="name">
                <a class="article-title" href="https://nicky-chen.github.io/2018/06/17/architect/">技术图谱</a>
            </h1>


        </header>


        <div class="article-entry" itemprop="articleBody">
            《后端架构师技术图谱》  数据结构  队列 集合 链表、数组 字典、关联数组 栈 树  二叉树 完全二叉树 平衡二叉树 二叉查找树（BST） 红黑树 B-，B+，B*树 LSM 树  BitSet  常用算法  排序、查找算法  选择排序 冒泡排序 插入排序 快速排序 归并排序 希尔排序 堆排序 计数排序 桶排序 基数排序 二分查找 Java 中的排序工具  布隆过滤器 字符串比较  KMP 算法  深度优先、广度优先 贪心算法 回溯算法 剪枝算法 动态规划 朴素贝叶斯 推荐算法 最小生成树算法 最短路径算法  并发  Java 并发 多线程 线程安全 一致性、事务  事务 ACID 特性 事务的隔离级别 MVCC  锁  Java中的锁和同步类 公平锁 &amp; 非公平锁 悲观锁 乐观锁 &amp; CAS ABA 问题 CopyOnWrite容器 RingBuffer 可重入锁 &amp; 不可重入锁 互斥锁 &amp; 共享锁 死锁   操作系统  计算机原理 CPU  多级缓存  进程 线程 协程 Linux  设计模式  设计模式的六大原则 23种常见设计模式 应用场景 单例模式 责任链模式 MVC IOC AOP UML 微服务思想  康威定律   运维 &amp; 统计 &amp; 技术支持  常规监控 APM 统计分析 持续集成(CI/CD)  Jenkins 环境分离  自动化运维  Ansible puppet chef  测试  TDD 理论 单元测试 压力测试 全链路压测 A/B 、灰度、蓝绿测试  虚拟化  KVM Xen OpenVZ  容器技术  Docker  云技术  OpenStack  DevOps 文档管理  中间件  Web Server  Nginx OpenResty Apache Httpd Tomcat  架构原理 调优方案  Jetty  缓存  本地缓存  客户端缓存 服务端缓存  Web缓存 Memcached Redis  架构 回收策略  Tair  消息队列  消息总线 消息的顺序 RabbitMQ RocketMQ ActiveMQ Kafka Redis 消息推送 ZeroMQ  定时调度  单机定时调度 分布式定时调度  RPC  Dubbo Thrift gRPC  数据库中间件  Sharding Jdbc  日志系统  日志搜集  配置中心 API 网关  网络  协议  OSI 七层协议 TCP/IP HTTP HTTP2.
        </div>

        <div class="article-info article-info-index">

            

            

            <p class="article-more-link">
                <a href="https://nicky-chen.github.io/2018/06/17/architect/">more &gt;&gt;</a>
            </p>

            <div class="clearfix"></div>
        </div>

    </div>

</article>

            
            <article id="post-Recycler-pbl" class="article article-type-post" itemscope="" itemprop="blogPost">

    <div class="article-meta">
        <a href="https://nicky-chen.github.io/2018/06/13/distribution-knowledge/" class="article-date">
            <time datetime="2018-06-13 11:18:15 &#43;0800 CST" itemprop="datePublished">2018-06-13</time>
        </a>
    </div>

    <div class="article-inner">
        
        <input type="hidden" class="isFancy">
        

        <header class="article-header">


            <h1 itemprop="name">
                <a class="article-title" href="https://nicky-chen.github.io/2018/06/13/distribution-knowledge/">分布式项目知识要点</a>
            </h1>


        </header>


        <div class="article-entry" itemprop="articleBody">
            
        </div>

        <div class="article-info article-info-index">

            
            <div class="article-category tagcloud">
                
                <a class="color5" href="https://nicky-chen.github.io/categories/distribution/" style="font-size: 12px;">distribution</a>
                
            </div>
            

            
            <div class="article-tag tagcloud">
                <ul class="article-tag-list">
                    
                    <li class="article-tag-list-item">
                        <a class="article-tag-list-link color1" href="https://nicky-chen.github.io/tags/%e6%80%9d%e7%bb%b4%e5%af%bc%e5%9b%be/"
                           style="font-size: 12px;">思维导图</a>
                    </li>
                    
                </ul>
            </div>
            

            <p class="article-more-link">
                <a href="https://nicky-chen.github.io/2018/06/13/distribution-knowledge/">more &gt;&gt;</a>
            </p>

            <div class="clearfix"></div>
        </div>

    </div>

</article>

            
            <article id="post-Recycler-pbl" class="article article-type-post" itemscope="" itemprop="blogPost">

    <div class="article-meta">
        <a href="https://nicky-chen.github.io/2018/06/07/singletion/" class="article-date">
            <time datetime="2018-06-07 11:18:15 &#43;0800 CST" itemprop="datePublished">2018-06-07</time>
        </a>
    </div>

    <div class="article-inner">
        
        <input type="hidden" class="isFancy">
        

        <header class="article-header">


            <h1 itemprop="name">
                <a class="article-title" href="https://nicky-chen.github.io/2018/06/07/singletion/">设计模式之单例模式终极版【克隆-序列化-反射】</a>
            </h1>


        </header>


        <div class="article-entry" itemprop="articleBody">
            1 基本内容 1.1 概念 单例模式，是指在任何时候，该类只能被实例化一次，在任何时候，访问该类的对象，对象都是同一个。只要是程序员都会使用到，甚至都不能算是设计模式。但是在我们使用中也需要了解一下单例特性和使用场景
1.2 模式优缺点 单例模式有以下优点： &gt;使用单例模式可以严格的控制用户怎样以及如何访问它 节约系统资源，提高系统的性能
单例模式有以下缺点： &gt;不易扩展 单例类职责过重，在一定程度上违背了“单一职责原则” 如实例化对象长时间未使用，会GC回收，导致对象状态的丢失
# 2 单例模式分类
2.1 饿汉模式  public class SingletonEHan { private SingletonEHan() {} /** * 1.单例模式的饿汉式 */ private static SingletonEHan singletonEHan = new SingletonEHan(); public static SingletonEHan getInstance() { return singletonEHan; } // SingletonEHan instance= SingletonEHan.getInstance(); /** * 2. 单例模式的饿汉式变换写法 * 基本没区别 */ private static SingletonEHan singletonEHanTwo = null; static { singletonEHanTwo = new SingletonEHan(); } public static SingletonEHan getSingletonEHan() { if (singletonEHanTwo == null) { singletonEHanTwo = new SingletonEHan(); } return singletonEHanTwo; } // SingletonEHan instance= SingletonEHan.
        </div>

        <div class="article-info article-info-index">

            
            <div class="article-category tagcloud">
                
                <a class="color5" href="https://nicky-chen.github.io/categories/design-pattern/" style="font-size: 12px;">design-pattern</a>
                
            </div>
            

            
            <div class="article-tag tagcloud">
                <ul class="article-tag-list">
                    
                    <li class="article-tag-list-item">
                        <a class="article-tag-list-link color1" href="https://nicky-chen.github.io/tags/%e5%88%9b%e5%bb%ba%e5%9e%8b/"
                           style="font-size: 12px;">创建型</a>
                    </li>
                    
                </ul>
            </div>
            

            <p class="article-more-link">
                <a href="https://nicky-chen.github.io/2018/06/07/singletion/">more &gt;&gt;</a>
            </p>

            <div class="clearfix"></div>
        </div>

    </div>

</article>

            
            <article id="post-Recycler-pbl" class="article article-type-post" itemscope="" itemprop="blogPost">

    <div class="article-meta">
        <a href="https://nicky-chen.github.io/2018/06/02/fail-fast-safe/" class="article-date">
            <time datetime="2018-06-02 11:18:15 &#43;0800 CST" itemprop="datePublished">2018-06-02</time>
        </a>
    </div>

    <div class="article-inner">
        
        <input type="hidden" class="isFancy">
        

        <header class="article-header">


            <h1 itemprop="name">
                <a class="article-title" href="https://nicky-chen.github.io/2018/06/02/fail-fast-safe/">Fail-Fast和Fail-Safe机制</a>
            </h1>


        </header>


        <div class="article-entry" itemprop="articleBody">
            1 Fail-Fast 1.1 fail-fast定义 fail-fast 机制是java集合(Collection)中的一种错误机制。当多个线程对同一个集合的内容进行操作时，就可能会产生fail-fast事件 例如：当某一个线程A通过iterator去遍历某集合的过程中，若该集合的内容被其他线程所改变了；那么线程A访问集合时，就会抛出ConcurrentModificationException异常，产生fail-fast事件
1.2 Iterator与fast-fail机制 1.2.1 Iterator的好处 java源码中迭代器模式主要用于集合的迭代，只要实现了Collection接口就可以使用迭代器去遍历获取元素，这样我们不需要了解遍历的内部实现细节。 比如下面的 ArrayList 和 ImmutableList 遍历的例子：
 public class IteratorTest { public static List&lt;Integer&gt; list = Lists.newArrayList(1, 10, 11, 18, -1, 20, 99); public static ImmutableList&lt;Integer&gt; integerList = ImmutableList.copyOf(list); public static void main(String[] args) { Iterator&lt;Integer&gt; iterator1 = list.iterator(); while (iterator1.hasNext()) { System.out.println(iterator1.next()); } Iterator&lt;Integer&gt; iterator2 = integerList.iterator(); while (iterator2.hasNext()) { System.out.println(iterator2.next()); } }  我们去遍历的时候并不需要关心内部细节，但实际上ImmutableList是一个固定容量的list,不能进行 remove 和 add 方法的操作
        </div>

        <div class="article-info article-info-index">

            
            <div class="article-category tagcloud">
                
                <a class="color5" href="https://nicky-chen.github.io/categories/java-base/" style="font-size: 12px;">java-base</a>
                
            </div>
            

            
            <div class="article-tag tagcloud">
                <ul class="article-tag-list">
                    
                    <li class="article-tag-list-item">
                        <a class="article-tag-list-link color1" href="https://nicky-chen.github.io/tags/%e5%9f%ba%e7%a1%80/"
                           style="font-size: 12px;">基础</a>
                    </li>
                    
                </ul>
            </div>
            

            <p class="article-more-link">
                <a href="https://nicky-chen.github.io/2018/06/02/fail-fast-safe/">more &gt;&gt;</a>
            </p>

            <div class="clearfix"></div>
        </div>

    </div>

</article>

            
            <article id="post-Recycler-pbl" class="article article-type-post" itemscope="" itemprop="blogPost">

    <div class="article-meta">
        <a href="https://nicky-chen.github.io/2018/05/27/adapter/" class="article-date">
            <time datetime="2018-05-27 11:18:15 &#43;0800 CST" itemprop="datePublished">2018-05-27</time>
        </a>
    </div>

    <div class="article-inner">
        
        <input type="hidden" class="isFancy">
        

        <header class="article-header">


            <h1 itemprop="name">
                <a class="article-title" href="https://nicky-chen.github.io/2018/05/27/adapter/">实际项目运用之Adapter模式（适配器模式）</a>
            </h1>


        </header>


        <div class="article-entry" itemprop="articleBody">
            1. 模式简介 适配器模式解决的问题：让原本因为接口不兼容而不能一起工作的类可以一起工作
适配器模式中有三种角色：
 目标接口Target：用户期望的类，可以是接口，也可以是抽象类或具体类； 需要适配的类Adaptee：当前系统中有的类； 适配器Adapter：在现有接口和目标接口之间的“适配者”  适配器模式的优点：
 通过适配器模式，用户在做相似的操作时可以调用同一个接口，其内部过程对于用户是透明的，这样做更简单、更直接、更解耦； 复用了现存的类，解决了现存类和复用环境要求不一致的问题； 将目标接口和现有接口解耦，通过引入一个适配器类，而无需修改原有的代码。
 适配器模式的缺点：
 使用适配器模式后，如果想要改变适配对象，就需要更换适配器，而更换适配器是一个非常复杂的过程。
 适配器模式的适用场景： &gt; 当系统需要使用现有的类，而现有的类不符合系统的接口 当期望的功能和系统中现有的某个类的功能相似，但是具有不同的接口 当系统已经实现某功能，但用户想通过另种接口方式访问，而不想修改原有接口 当使用的第三方组件的接口和系统中定义好的接口不同，不希望修改系统接口
2.案例代码 适配器分类_适配器模式_和对象适配器模式
2.1 类适配器UML
2.2 对象适配器模式UML
2.3 案例代码：
被适配对象
public class Adaptee { public void adapteeMethod() { System.out.println(&quot;这是我们已经实现的功能！&quot;); } }  对象适配器
public class Adapter implements Target { private Adaptee adaptee = new Adaptee(); @Override public void targetMethod() { adaptee.adapteeMethod(); } }  目标接口
        </div>

        <div class="article-info article-info-index">

            
            <div class="article-category tagcloud">
                
                <a class="color5" href="https://nicky-chen.github.io/categories/design-pattern/" style="font-size: 12px;">design-pattern</a>
                
            </div>
            

            
            <div class="article-tag tagcloud">
                <ul class="article-tag-list">
                    
                    <li class="article-tag-list-item">
                        <a class="article-tag-list-link color1" href="https://nicky-chen.github.io/tags/%e7%bb%93%e6%9e%84%e5%9e%8b/"
                           style="font-size: 12px;">结构型</a>
                    </li>
                    
                </ul>
            </div>
            

            <p class="article-more-link">
                <a href="https://nicky-chen.github.io/2018/05/27/adapter/">more &gt;&gt;</a>
            </p>

            <div class="clearfix"></div>
        </div>

    </div>

</article>

            
            <article id="post-Recycler-pbl" class="article article-type-post" itemscope="" itemprop="blogPost">

    <div class="article-meta">
        <a href="https://nicky-chen.github.io/2018/05/18/template/" class="article-date">
            <time datetime="2018-05-18 11:18:15 &#43;0800 CST" itemprop="datePublished">2018-05-18</time>
        </a>
    </div>

    <div class="article-inner">
        
        <input type="hidden" class="isFancy">
        

        <header class="article-header">


            <h1 itemprop="name">
                <a class="article-title" href="https://nicky-chen.github.io/2018/05/18/template/">设计模式之Template模式（模版模式）</a>
            </h1>


        </header>


        <div class="article-entry" itemprop="articleBody">
            1 模式简介 1.1 模版方法模式的定义： 模版方法模式在一个方法中定义一个算法的骨架，而将一些步骤延迟到子类中。模版方法使得子类可以在不改变算法结构的情况下，重新定义算法中的某些步骤。
1.2 结构 1.3 模式的组成
抽象类（AbstractClass）: 定义抽象的原语操作（primitive operation） ，具体的子类将重定义它们以实现一个算法， 实现一个模板方法,定义一个算法的骨架。该模板方法不仅调用原语操作，也调用定义。 具体子类 （ConcreteClass）: 实现原语操作以完成算法中与特定子类相关的步骤。
1.4 优缺点
 模版方法模式的优点：  封装不变部分，扩展可变部分；  提取公共代码，便于维护；  行为由父类控制，子类实现。
模版方法模式的缺点：  每一个不同的实现都需要一个子类来实现，导致类个数增加，使系统更加庞大
模版方法模式的适用场景：  当类中有多个子类共有的方法  当有重要的、复杂的方法时，可以考虑作为模板方法
 2 案例 抽象类
@FunctionalInterface public interface MyPredicate&lt;T&gt; { boolean test(T t); /** *过滤用户 */ default List&lt;Employee&gt; filterEmployee(List&lt;Employee&gt; emps, MyPredicate&lt;Employee&gt; mp) { List&lt;Employee&gt; list = new ArrayList&lt;&gt;(); for (Employee employee : emps) { if (mp.
        </div>

        <div class="article-info article-info-index">

            
            <div class="article-category tagcloud">
                
                <a class="color5" href="https://nicky-chen.github.io/categories/design-pattern/" style="font-size: 12px;">design-pattern</a>
                
            </div>
            

            
            <div class="article-tag tagcloud">
                <ul class="article-tag-list">
                    
                    <li class="article-tag-list-item">
                        <a class="article-tag-list-link color1" href="https://nicky-chen.github.io/tags/%e8%a1%8c%e4%b8%ba%e5%9e%8b/"
                           style="font-size: 12px;">行为型</a>
                    </li>
                    
                </ul>
            </div>
            

            <p class="article-more-link">
                <a href="https://nicky-chen.github.io/2018/05/18/template/">more &gt;&gt;</a>
            </p>

            <div class="clearfix"></div>
        </div>

    </div>

</article>

            
            <article id="post-Recycler-pbl" class="article article-type-post" itemscope="" itemprop="blogPost">

    <div class="article-meta">
        <a href="https://nicky-chen.github.io/2018/05/14/synchronized-principle/" class="article-date">
            <time datetime="2018-05-14 11:18:15 &#43;0800 CST" itemprop="datePublished">2018-05-14</time>
        </a>
    </div>

    <div class="article-inner">
        
        <input type="hidden" class="isFancy">
        

        <header class="article-header">


            <h1 itemprop="name">
                <a class="article-title" href="https://nicky-chen.github.io/2018/05/14/synchronized-principle/">synchronized实现原理及锁优化</a>
            </h1>


        </header>


        <div class="article-entry" itemprop="articleBody">
            1.引言 并发编程中synchronized是重量级锁，但随着JVM1.6对synchronized进行优化后，有些情况下它并不那么重，本文介绍了Java SE1.6中为了减少获得锁和释放锁带来的性能消耗而引入的偏向锁和轻量级锁，以及锁的存储结构和升级过程。
2.术语定义 CAS(Compare and Swap): 比较并交换。用于在硬件层面上提供原子性操作。在 Intel 处理器中，比较并交换通过指令cmpxchg实现。比较是否和给定的数值一致，如果一致则修改，不一致则不修改。
3.同步的基础 Java中的每一个对象都可以作为锁。 对于同步方法，锁是当前实例对象。 对于静态同步方法，锁是当前对象的Class对象。 对于同步方法块，锁是synchonized括号里配置的对象。
我们通过java代码和字节码分析下 java代码如下：
public class SyncTest { private static double a = 1; public synchronized void plusNumber() { a++; } public void minusNumber() { System.out.println(a); synchronized (this) { a--; } } public synchronized static void divide() { a = a / 0.1; } }  解析成字节码指令:
//同步方法 public synchronized void plusNumber(); descriptor: ()V flags: ACC_PUBLIC, ACC_SYNCHRONIZED Code: stack=4, locals=1, args_size=1 0: getstatic #2 // Field a:D 3: dconst_1 4: dadd 5: putstatic #2 // Field a:D 8: return LineNumberTable: line 12: 0 line 13: 8 //同步块 public void minusNumber(); descriptor: ()V flags: ACC_PUBLIC Code: stack=4, locals=3, args_size=1 0: getstatic #3 // Field java/lang/System.
        </div>

        <div class="article-info article-info-index">

            
            <div class="article-category tagcloud">
                
                <a class="color5" href="https://nicky-chen.github.io/categories/concurrent/" style="font-size: 12px;">concurrent</a>
                
            </div>
            

            
            <div class="article-tag tagcloud">
                <ul class="article-tag-list">
                    
                    <li class="article-tag-list-item">
                        <a class="article-tag-list-link color1" href="https://nicky-chen.github.io/tags/%e9%94%81%e4%bc%98%e5%8c%96/"
                           style="font-size: 12px;">锁优化</a>
                    </li>
                    
                </ul>
            </div>
            

            <p class="article-more-link">
                <a href="https://nicky-chen.github.io/2018/05/14/synchronized-principle/">more &gt;&gt;</a>
            </p>

            <div class="clearfix"></div>
        </div>

    </div>

</article>

            
            <article id="post-Recycler-pbl" class="article article-type-post" itemscope="" itemprop="blogPost">

    <div class="article-meta">
        <a href="https://nicky-chen.github.io/2018/05/13/juc-tree-info/" class="article-date">
            <time datetime="2018-05-13 11:18:15 &#43;0800 CST" itemprop="datePublished">2018-05-13</time>
        </a>
    </div>

    <div class="article-inner">
        
        <input type="hidden" class="isFancy">
        

        <header class="article-header">


            <h1 itemprop="name">
                <a class="article-title" href="https://nicky-chen.github.io/2018/05/13/juc-tree-info/">JUC知识点总结</a>
            </h1>


        </header>


        <div class="article-entry" itemprop="articleBody">
            作为并发的基础，我们需要熟悉掌握JUC相关的知识，才能更好的在实际项目中运用， 下面是整理出来的juc思维导图：
#系列文章 java内存模型之[JMM][重排序][happens-before] volatile关键字原理实现及应用 synchronized实现原理及锁优化 =============不定期更新============================
        </div>

        <div class="article-info article-info-index">

            
            <div class="article-category tagcloud">
                
                <a class="color5" href="https://nicky-chen.github.io/categories/concurrent/" style="font-size: 12px;">concurrent</a>
                
            </div>
            

            
            <div class="article-tag tagcloud">
                <ul class="article-tag-list">
                    
                    <li class="article-tag-list-item">
                        <a class="article-tag-list-link color1" href="https://nicky-chen.github.io/tags/%e6%80%9d%e7%bb%b4%e5%af%bc%e5%9b%be/"
                           style="font-size: 12px;">思维导图</a>
                    </li>
                    
                </ul>
            </div>
            

            <p class="article-more-link">
                <a href="https://nicky-chen.github.io/2018/05/13/juc-tree-info/">more &gt;&gt;</a>
            </p>

            <div class="clearfix"></div>
        </div>

    </div>

</article>

            
            <article id="post-Recycler-pbl" class="article article-type-post" itemscope="" itemprop="blogPost">

    <div class="article-meta">
        <a href="https://nicky-chen.github.io/2018/05/06/strategy/" class="article-date">
            <time datetime="2018-05-06 11:18:15 &#43;0800 CST" itemprop="datePublished">2018-05-06</time>
        </a>
    </div>

    <div class="article-inner">
        
        <input type="hidden" class="isFancy">
        

        <header class="article-header">


            <h1 itemprop="name">
                <a class="article-title" href="https://nicky-chen.github.io/2018/05/06/strategy/">实际项目运用之Strategy模式（策略模式）</a>
            </h1>


        </header>


        <div class="article-entry" itemprop="articleBody">
            1. 策略模式概要 策略模式是对算法的包装，是把使用算法的责任和算法本身分割开来，委派给不同的对象管理。策略模式通常把一个系列的算法包装到一系列的策略类里面，作为一个抽象策略类的子类。用一句话来说，就是：“准备一组算法，并将每一个算法封装起来，使得它们可以互换”。 下面就以一个示意性的实现讲解策略模式实例的结构。 　这个模式涉及到三个角色：
　● 环境(Context)角色：持有一个Strategy的引用。
　● 抽象策略(Strategy)角色：这是一个抽象角色，通常由一个接口或抽象类实现。此角色给出所有的具体策略类所需的接口。
　● 具体策略(ConcreteStrategy)角色：包装了相关的算法或行为。
1.1 案例代码 策略模式上下文
public class Context { //持有一个具体策略的对象 private Strategy strategy; /** * 构造函数，传入一个具体策略对象 * @param strategy 具体策略对象 */ public Context(Strategy strategy){ this.strategy = strategy; } /** * 策略方法 */ public void contextInterface(){ strategy.algorithmInterface(); } }  抽象策略类
public interface Strategy { /** * 策略方法 */ public void algorithmInterface(); }  具体策略类
public class ConcreteStrategyA implements Strategy { @Override public void algorithmInterface() { //相关的业务 } } public class ConcreteStrategyB implements Strategy { @Override public void algorithmInterface() { //相关的业务 } } public class ConcreteStrategyC implements Strategy { @Override public void algorithmInterface() { //相关的业务 } }  客户端
        </div>

        <div class="article-info article-info-index">

            
            <div class="article-category tagcloud">
                
                <a class="color5" href="https://nicky-chen.github.io/categories/design-pattern/" style="font-size: 12px;">design-pattern</a>
                
            </div>
            

            
            <div class="article-tag tagcloud">
                <ul class="article-tag-list">
                    
                    <li class="article-tag-list-item">
                        <a class="article-tag-list-link color1" href="https://nicky-chen.github.io/tags/%e8%a1%8c%e4%b8%ba%e5%9e%8b/"
                           style="font-size: 12px;">行为型</a>
                    </li>
                    
                </ul>
            </div>
            

            <p class="article-more-link">
                <a href="https://nicky-chen.github.io/2018/05/06/strategy/">more &gt;&gt;</a>
            </p>

            <div class="clearfix"></div>
        </div>

    </div>

</article>

            
            <article id="post-Recycler-pbl" class="article article-type-post" itemscope="" itemprop="blogPost">

    <div class="article-meta">
        <a href="https://nicky-chen.github.io/2018/05/04/volatile-feature/" class="article-date">
            <time datetime="2018-05-04 11:18:15 &#43;0800 CST" itemprop="datePublished">2018-05-04</time>
        </a>
    </div>

    <div class="article-inner">
        
        <input type="hidden" class="isFancy">
        

        <header class="article-header">


            <h1 itemprop="name">
                <a class="article-title" href="https://nicky-chen.github.io/2018/05/04/volatile-feature/">volatile关键字原理实现及应用</a>
            </h1>


        </header>


        <div class="article-entry" itemprop="articleBody">
            1.并发编程中的三个概念 在并发编程中, 需要了解线程的三个概念：原子性，可见性，有序性：
1.1.原子性
 原子性：即一个操作或者多个操作 要么全部执行并且执行的过程不会被任何因素打断，要么就都不执行。
 一个很经典的例子就是银行账户转账问题：
比如从账户A向账户B转1000元，那么必然包括2个操作：从账户A减去1000元，往账户B加上1000元。 试想一下，如果这2个操作不具备原子性，会造成什么样的后果。假如从账户A减去1000元之后，操作突然中止。然后又从B取出了500元，取出500元之后， 再执行 往账户B加上1000元 的操作。这样就会导致账户A虽然减去了1000元，但是账户B没有收到这个转过来的1000元。 所以这2个操作必须要具备原子性才能保证不出现一些意外的问题。  　同样地反映到并发编程中会出现什么结果呢？
　举个最简单的例子，大家想一下假如为一个32位的变量赋值过程不具备原子性的话，会发生什么后果？
i = 9;  假若一个线程执行到这个语句时，我暂且假设为一个32位的变量赋值包括两个过程：为低16位赋值，为高16位赋值。 那么就可能发生一种情况：当将低16位数值写入之后，突然被中断，而此时又有一个线程去读取i的值，那么读取到的就是错误的数据。
1.2.可见性
 可见性是指当多个线程访问同一个变量时，一个线程修改了这个变量的值，其他线程能够立即看得到修改的值。
 举个简单的例子，看下面这段代码：
//线程1执行的代码 int i = 0; i = 10; //线程2执行的代码 j = i;  　假若执行线程1的是CPU1，执行线程2的是CPU2。由上面的分析可知，当线程1执行 i =10这句时，会先把i的初始值加载到CPU1的高速缓存中，然后赋值为10，那么在CPU1的高速缓存当中i的值变为10了，却没有立即写入到主存当中。
　此时线程2执行 j = i，它会先去主存读取i的值并加载到CPU2的缓存当中，注意此时内存当中i的值还是0，那么就会使得j的值为0，而不是10. 这就是可见性问题，线程1对变量i修改了之后，线程2没有立即看到线程1修改的值。
1.3.有序性
 有序性：即程序执行的顺序按照代码的逻辑顺序执行
 举个简单的例子，看下面这段代码：
int i = 0; boolean flag = false; i = 1; //语句1 flag = true; //语句2  　上面代码定义了一个int型变量，定义了一个boolean类型变量，然后分别对两个变量进行赋值操作。从代码顺序上看，语句1是在语句2前面的，那么JVM在真正执行这段代码的时候会保证语句1一定会在语句2前面执行吗？不一定，为什么呢？这里可能会发生指令重排序。 但是要注意，虽然处理器会对指令进行重排序，但是它会保证程序最终结果会和代码顺序执行结果相同，那么它靠什么保证的呢？再看下面一个例子：
        </div>

        <div class="article-info article-info-index">

            
            <div class="article-category tagcloud">
                
                <a class="color5" href="https://nicky-chen.github.io/categories/concurrent/" style="font-size: 12px;">concurrent</a>
                
            </div>
            

            
            <div class="article-tag tagcloud">
                <ul class="article-tag-list">
                    
                    <li class="article-tag-list-item">
                        <a class="article-tag-list-link color1" href="https://nicky-chen.github.io/tags/%e9%94%81%e4%bc%98%e5%8c%96/"
                           style="font-size: 12px;">锁优化</a>
                    </li>
                    
                </ul>
            </div>
            

            <p class="article-more-link">
                <a href="https://nicky-chen.github.io/2018/05/04/volatile-feature/">more &gt;&gt;</a>
            </p>

            <div class="clearfix"></div>
        </div>

    </div>

</article>

            
            
            
<nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="https://nicky-chen.github.io/page/2/">« Prev</a>
    

    
        
        
            <a class="page-number" href="https://nicky-chen.github.io/">1</a>
        
    
        
        
            <a class="page-number" href="https://nicky-chen.github.io/page/2/">2</a>
        
    
        
        
            <span class="page-number current">3</span>
        
    
        
        
            <a class="page-number" href="https://nicky-chen.github.io/page/4/">4</a>
        
    
        
        
            <a class="page-number" href="https://nicky-chen.github.io/page/5/">5</a>
        
    
        
        
            <a class="page-number" href="https://nicky-chen.github.io/page/6/">6</a>
        
    
    
    
    
    
    

    
    <a class="extend next" rel="next" href="https://nicky-chen.github.io/page/4//">Next »</a>
    

    
    


</nav>


        </div>
        <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left">
                &copy; 2019 nicky_chin
            </div>
            <div class="footer-right">
                <a href="https://github.com/laozhu/hugo-nuo" target="_blank">Hugo Theme </a>
            </div>
        </div>
        
            <div class="visit">
                
                    <span id="busuanzi_container_site_pv" style='display:none'>
                        <span id="site-visit" >本站到访数:
                            <span id="busuanzi_value_site_uv"></span>
                        </span>
                    </span>
                
                
                    <span>, </span>
                
                
                    <span id="busuanzi_container_page_pv" style='display:none'>
                        <span id="page-visit">本页阅读量:
                            <span id="busuanzi_value_page_pv"></span>
                        </span>
                    </span>
                
            </div>
        
    </div>
</footer>

    </div>
    
<script src="https://nicky-chen.github.io/js/GithubRepoWidget.js"></script>
<script src="//7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>
<script src="https://nicky-chen.github.io/js/main.js"></script>


    <script>
        $(document).ready(function() {
            var iPad = window.navigator.userAgent.indexOf('iPad');
            if (iPad > -1 || $(".left-col").css("display") === "none") {
                var bgColorList = ["#9db3f4", "#414141", "#e5a859", "#f5dfc6", "#c084a0", "#847e72", "#cd8390", "#996731"];
                var bgColor = Math.ceil(Math.random() * (bgColorList.length - 1));
                $("body").css({"background-color": bgColorList[bgColor], "background-size": "cover"});
            }
            else {
                var backgroundnum =  5 ;
                var backgroundimg = "url(\/background/bg-x.jpg)".replace(/x/gi, Math.ceil(Math.random() * backgroundnum));
                $("body").css({"background": backgroundimg, "background-attachment": "fixed", "background-size": "cover"});
            }
        })
    </script>




<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-119892182-1', 'auto');
ga('send', 'pageview');

</script>


<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        }
        else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>





<div class="scroll" id="scroll">
    <a href="#" title="返回顶部"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments" title="查看评论"><i class="fa fa-comments-o"></i></a>
    <a href="#footer" title="转到底部"><i class="fa fa-arrow-down"></i></a>
</div>

<script>
    $(document).ready(function() {
        if ($("#comments").length < 1) {
            $("#scroll > a:nth-child(2)").hide();
        };
    })
</script>




<script>
    (function(){
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        }
        else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

</div>
</body>
</html>

